import enum
from typing import List, Optional

from reia.schemas.base import CreationInfoMixin, Model


class ELossCategory(str, enum.Enum):
    CONTENTS = 'contents'
    BUSINESS_INTERRUPTION = 'business_interruption'
    NONSTRUCTURAL = 'nonstructural'
    OCCUPANTS = 'occupants'
    STRUCTURAL = 'structural'
    NULL = 'null'


class VulnerabilityModel(Model, CreationInfoMixin):
    _oid: Optional[int] = None
    name: Optional[str] = None
    description: Optional[str] = None
    assetcategory: Optional[str] = None
    publicid: Optional[str] = None
    _type: Optional[ELossCategory] = None


class OccupantsVulnerabilityModel(VulnerabilityModel):
    pass


class ContentsVulnerabilityModel(VulnerabilityModel):
    pass


class StructuralVulnerabilityModel(VulnerabilityModel):
    pass


class NonstructuralVulnerabilityModel(VulnerabilityModel):
    pass


class BusinessInterruptionVulnerabilityModel(VulnerabilityModel):
    pass


class VulnerabilityFunction(Model):
    _oid: Optional[int] = None
    _vulnerabilitymodel_oid: Optional[int] = None
    distribution: Optional[str] = None
    intensitymeasuretype: Optional[str] = None
    taxonomy: Optional[str] = None


class LossRatio(Model):
    _oid: Optional[int] = None
    intensitymeasurelevel: Optional[float] = None
    mean: Optional[float] = None
    coefficientofvariation: Optional[float] = None
    pmf_variable: Optional[List[float]] = None
    pmf_probability: Optional[List[float]] = None
    _vulnerabilityfunction_oid: Optional[int] = None
